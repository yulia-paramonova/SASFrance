1    /* region: Generated preamble */
2    /* Make sure the current directory is writable */
3    data _null_;
4        length rc 4;
5        %let tworkloc="%sysfunc(getoption(work))";
6        rc=dlgcdir(&tworkloc);
7    run;
NOTE: The current working directory is now 
      "/opt/sas/viya/config/var/tmp/compsrv/default/dc0baa93-8383-4c0c-900e-b05d12702e99/SAS_work1272000001DB_sas-compute-server-2a0
      8346d-f3b6-4a16-bfee-9589ad755ff4-102".
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
8    
9    /* Setup options */
10   title;
11   footnote;
12   options validvarname=any;
13   options validmemname=extend;
14   options dtreset date number;
15   options device=png;
16   
17   /* Setup macro variables */
18   %let syscc=0;
19   %let _clientapp = %nrquote(%nrstr(SAS Studio));
20   %let _clientappabbrev = %nrquote(%nrstr(Studio));
21   %let _clientappversion=2024.03;
22   %let _clientversion=;
23   %let _sasservername=&SYSHOSTNAME;
24   %let _sashostname=&SYSHOSTNAME;
25   %let _sasprogramfilehost=&SYSHOSTNAME;
26   %let _clientuserid = %nrquote(%nrstr(student));
27   %let _clientusername = %nrquote(%nrstr(Student));
28   %let clientmachine = %nrquote(%nrstr());
29   %let _clientmachine = %nrquote(%nrstr());
30   %let _clientmode = %nrquote(%nrstr(viya));
31   %let sasworklocation="%sysfunc(getoption(work))/";
32   filename _cwd &sasworklocation;
33   data _null_;
34       call symput('_sasworkingdir',pathname('_cwd'));
35   run;
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      
36   filename _cwd;
NOTE: Fileref _CWD has been deassigned.
37   %let _sasprogramfile = %nrquote(%nrstr(sascontent:/files/files/fe2fe6e2-a160-45af-b1cb-5adf47e5b1e0));
38   %let _baseurl = %nrquote(%nrstr(https://server.demo.sas.com/SASStudio/));
39   %let _execenv = %nrquote(%nrstr(SASStudio));
40   %symdel _dataout_mime_type _dataout_name _dataout_url _dataout_table / nowarn;
41   %let _sasws_ = %bquote(%sysfunc(getoption(work)));
42   %let _saswstemp_ = %bquote(%sysfunc(getoption(work)));
43   
44   /* Detect SAS/Graph and setup graph options */
45   data _null_;
46       length rc $255;
47       call symput("graphinit","");
48       call symput("graphterm","");
49       rc=tslvl('sasxgopt','n');
50       _error_=0;
51       if (rc^=' ') then do;
52           call symput("graphinit","goptions reset=all gsfname=_gsfname;");
53           call symput("graphterm","goptions noaccessible;");
54       end;
55   run;
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
56   data _null_;
57       length rc 4;
58       rc=sysprod("PRODNUM002");
59       if (rc^=1) then do;
60           call symput("graphinit","");
61           call symput("graphterm","");
62       end;
63   run;
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.02 seconds
      
64   
65   /* Setup ODS destinations */
66   ods _all_ close;
67   %studio_results_directory;
68   filename _htmlout "&_results_prefix_..html";
69   filename _listout "&_results_prefix_..lst";
70   filename _gsfname temp;
71   filename _dataout "&_results_prefix_..dat";
72   ods autonavigate off;
73   ods graphics on;
74   ods html5 (id=web) METATEXT='http-equiv="Content-Security-Policy" content="default-src ''none''; style-src ''unsafe-inline'';
74 ! img-src data: ;"' device=png gpath="&_saswstemp_" path="&_saswstemp_" encoding=utf8 file=_htmlout (title='Results:Exemple
74 ! 5.sas') style=Illuminate options(bitmap_mode='inline' outline='on' svg_mode='inline' css_prefix=".ods_&SYS_COMPUTE_JOB_ID"
74 ! body_id="div_&SYS_COMPUTE_JOB_ID" );
NOTE: Writing HTML5(WEB) Body file: _HTMLOUT
75   ods listing file=_listout;
76   &graphinit;
77   %studio_initialize_custom_output;
78   /* endregion */
79   
80   /********** EXEMPLE (5)*****************/
81   /***********JOINTURE***************/
82   data sas_customers;
83   set db.customers;
84   run;
NOTE: There were 89954 observations read from the data set DB.CUSTOMERS.
NOTE: The data set WORK.SAS_CUSTOMERS has 89954 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.90 seconds
      cpu time            0.88 seconds
      
85   
86   *Implicit pass-through;
87   options sastrace=',,,d' sastraceloc=saslog nostsuffix;
88   
89   proc sql noprint;
90   create table jointure1 as select
91   a.customer_id,
92   b.country,
93   b.customer_name,
94   b.customer_age
95   from sas_customers a left join db.orders b
96   on a.customer_id = b.customer_id;
 
ORACLE_29: Prepared: on connection 0
SELECT * FROM ETDP.ORDERS
 
 
ORACLE_30: Prepared: on connection 0
SELECT  NULL as TABLE_QUALIFIER,  t.owner as TABLE_OWNER,  t.table_name as TABLE_NAME,  t.num_rows as ROW_COUNT  FROM  all_tables t 
WHERE  t.table_name='ORDERS' AND  t.owner='ETDP' 
 
 
ORACLE_31: Executed: on connection 0
SELECT statement  ORACLE_30
 
 
ORACLE_32: Prepared: on connection 0
SELECT  "CUSTOMER_ID", "COUNTRY", "CUSTOMER_NAME", "CUSTOMER_AGE" FROM ETDP.ORDERS 
 
 
ORACLE_33: Executed: on connection 0
SELECT statement  ORACLE_32
 
NOTE: Table WORK.JOINTURE1 created, with 6683337 rows and 4 columns.
97   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           2:15.55
      cpu time            41.32 seconds
      
98   
99   options sastrace=off;
100  options sastrace=',,,d' sastraceloc=saslog nostsuffix;
101  
102  *Explicit pass-through;
103  proc sql noprint;
104  connect using db;
105  create table jointure2 as select *
106  from connection to db
107  (select a.customer_id,
108  b.country,
109  b.customer_name,
110  b.customer_age
111  from etdp.customers a left join etdp.orders b
112  on a.customer_id = b.customer_id)
113  ;
 
ORACLE_34: Prepared: on connection 1
select a.customer_id, b.country, b.customer_name, b.customer_age from etdp.customers a left join etdp.orders b on a.customer_id = 
b.customer_id
 
 
ORACLE_35: Executed: on connection 1
SELECT statement  ORACLE_34
 
NOTE: Table WORK.JOINTURE2 created, with 6683337 rows and 4 columns.
114  disconnect from db;
115  quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           29.50 seconds
      cpu time            11.80 seconds
      
116  
117  options sastrace=off;
118  
119  /* region: Generated postamble */
120  /* Close ODS destinations */
121  &graphterm; ;*';*";*/;run;quit;
122  quit;run;
123  ods html5 (id=web) close;
124  ods listing close;
125  %if %sysfunc(fileref(_gsfname)) lt 0 %then %do;
126      filename _gsfname clear;
NOTE: Fileref _GSFNAME has been deassigned.
127  %end;
128  %studio_capture_custom_output;
129  /* endregion */
130  
